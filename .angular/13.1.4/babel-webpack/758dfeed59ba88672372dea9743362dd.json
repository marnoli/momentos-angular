{"ast":null,"code":"import _asyncToGenerator from \"/home/marcelo/\\xC1rea de Trabalho/Angular-Aula/projeto_angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/service/moment.service\";\nimport * as i2 from \"src/service/message.service\";\nimport * as i3 from \"@angular/router\";\nexport class NewMomentsComponent {\n  constructor(momentService, messageService, router) {\n    this.momentService = momentService;\n    this.messageService = messageService;\n    this.router = router;\n    this.btnText = 'Compartilhar';\n  }\n\n  ngOnInit() {}\n\n  createHandler(moment) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const formData = new FormData();\n      formData.append('title', moment.title);\n      formData.append('description', moment.description);\n\n      if (moment.image) {\n        formData.append('image', moment.image);\n      } // todo\n\n\n      yield _this.momentService.createMoment(formData).subscribe();\n\n      _this.messageService.addMessage('Momento adicionado com sucesso!');\n\n      _this.router.navigate(['/']);\n    })();\n  }\n\n}\n\nNewMomentsComponent.ɵfac = function NewMomentsComponent_Factory(t) {\n  return new (t || NewMomentsComponent)(i0.ɵɵdirectiveInject(i1.MomentService), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nNewMomentsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewMomentsComponent,\n  selectors: [[\"app-new-moments\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[3, \"btnText\", \"onSubmit\"]],\n  template: function NewMomentsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Compartilhe o seu \");\n      i0.ɵɵelementStart(2, \"span\");\n      i0.ɵɵtext(3, \"Momento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"app-moment-form\", 0);\n      i0.ɵɵlistener(\"onSubmit\", function NewMomentsComponent_Template_app_moment_form_onSubmit_5_listener($event) {\n        return ctx.createHandler($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"btnText\", ctx.btnText);\n    }\n  },\n  styles: [\"h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 1em;\\n  font-size: 2.2em;\\n}\\n\\nh2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  color: #dec129;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ldy1tb21lbnRzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEIiLCJmaWxlIjoibmV3LW1vbWVudHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImgyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG4gIGZvbnQtc2l6ZTogMi4yZW07XG59XG5cbmgyIHNwYW4ge1xuICBjb2xvcjogI2RlYzEyOTtcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["/home/marcelo/Área de Trabalho/Angular-Aula/projeto_angular/src/app/components/pages/new-moments/new-moments.component.ts"],"names":["i0","i1","i2","i3","NewMomentsComponent","constructor","momentService","messageService","router","btnText","ngOnInit","createHandler","moment","formData","FormData","append","title","description","image","createMoment","subscribe","addMessage","navigate","ɵfac","NewMomentsComponent_Factory","t","ɵɵdirectiveInject","MomentService","MessageService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","NewMomentsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NewMomentsComponent_Template_app_moment_form_onSubmit_5_listener","$event","ɵɵadvance","ɵɵproperty","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/service/moment.service\";\nimport * as i2 from \"src/service/message.service\";\nimport * as i3 from \"@angular/router\";\nexport class NewMomentsComponent {\n    constructor(momentService, messageService, router) {\n        this.momentService = momentService;\n        this.messageService = messageService;\n        this.router = router;\n        this.btnText = 'Compartilhar';\n    }\n    ngOnInit() {\n    }\n    async createHandler(moment) {\n        const formData = new FormData();\n        formData.append('title', moment.title);\n        formData.append('description', moment.description);\n        if (moment.image) {\n            formData.append('image', moment.image);\n        }\n        // todo\n        await this.momentService.createMoment(formData).subscribe();\n        this.messageService.addMessage('Momento adicionado com sucesso!');\n        this.router.navigate(['/']);\n    }\n}\nNewMomentsComponent.ɵfac = function NewMomentsComponent_Factory(t) { return new (t || NewMomentsComponent)(i0.ɵɵdirectiveInject(i1.MomentService), i0.ɵɵdirectiveInject(i2.MessageService), i0.ɵɵdirectiveInject(i3.Router)); };\nNewMomentsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NewMomentsComponent, selectors: [[\"app-new-moments\"]], decls: 6, vars: 1, consts: [[3, \"btnText\", \"onSubmit\"]], template: function NewMomentsComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Compartilhe o seu \");\n        i0.ɵɵelementStart(2, \"span\");\n        i0.ɵɵtext(3, \"Momento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(4, \"!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"app-moment-form\", 0);\n        i0.ɵɵlistener(\"onSubmit\", function NewMomentsComponent_Template_app_moment_form_onSubmit_5_listener($event) { return ctx.createHandler($event); });\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"btnText\", ctx.btnText);\n    } }, styles: [\"h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 1em;\\n  font-size: 2.2em;\\n}\\n\\nh2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  color: #dec129;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ldy1tb21lbnRzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGNBQWM7QUFDaEIiLCJmaWxlIjoibmV3LW1vbWVudHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImgyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAxZW07XG4gIGZvbnQtc2l6ZTogMi4yZW07XG59XG5cbmgyIHNwYW4ge1xuICBjb2xvcjogI2RlYzEyOTtcbn0iXX0= */\"] });\n"]},"metadata":{},"sourceType":"module"}