{"ast":null,"code":"import _asyncToGenerator from \"/home/marcelo/\\xC1rea de Trabalho/Angular-Aula/projeto_angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet NewMomentsComponent = class NewMomentsComponent {\n  constructor(momentService, messageService, router) {\n    this.momentService = momentService;\n    this.messageService = messageService;\n    this.router = router;\n    this.btnText = 'Compartilhar';\n  }\n\n  ngOnInit() {}\n\n  createHandler(moment) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const formData = new FormData();\n      formData.append('title', moment.title);\n      formData.append('description', moment.description);\n\n      if (moment.image) {\n        formData.append('image', moment.image);\n      } // todo\n\n\n      yield _this.momentService.createMoment(formData).subscribe();\n\n      _this.messageService.addMessage('Momento adicionado com sucesso!');\n\n      _this.router.navigate(['/']);\n    })();\n  }\n\n};\nNewMomentsComponent = __decorate([Component({\n  selector: 'app-new-moments',\n  templateUrl: './new-moments.component.html',\n  styleUrls: ['./new-moments.component.css']\n})], NewMomentsComponent);\nexport { NewMomentsComponent };","map":{"version":3,"sources":["/home/marcelo/√Årea de Trabalho/Angular-Aula/projeto_angular/src/app/components/pages/new-moments/new-moments.component.ts"],"names":["__decorate","Component","NewMomentsComponent","constructor","momentService","messageService","router","btnText","ngOnInit","createHandler","moment","formData","FormData","append","title","description","image","createMoment","subscribe","addMessage","navigate","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,IAAIC,mBAAmB,GAAG,MAAMA,mBAAN,CAA0B;AAChDC,EAAAA,WAAW,CAACC,aAAD,EAAgBC,cAAhB,EAAgCC,MAAhC,EAAwC;AAC/C,SAAKF,aAAL,GAAqBA,aAArB;AACA,SAAKC,cAAL,GAAsBA,cAAtB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAe,cAAf;AACH;;AACDC,EAAAA,QAAQ,GAAG,CACV;;AACKC,EAAAA,aAAa,CAACC,MAAD,EAAS;AAAA;;AAAA;AACxB,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,MAAM,CAACI,KAAhC;AACAH,MAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+BH,MAAM,CAACK,WAAtC;;AACA,UAAIL,MAAM,CAACM,KAAX,EAAkB;AACdL,QAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBH,MAAM,CAACM,KAAhC;AACH,OANuB,CAOxB;;;AACA,YAAM,KAAI,CAACZ,aAAL,CAAmBa,YAAnB,CAAgCN,QAAhC,EAA0CO,SAA1C,EAAN;;AACA,MAAA,KAAI,CAACb,cAAL,CAAoBc,UAApB,CAA+B,iCAA/B;;AACA,MAAA,KAAI,CAACb,MAAL,CAAYc,QAAZ,CAAqB,CAAC,GAAD,CAArB;AAVwB;AAW3B;;AApB+C,CAApD;AAsBAlB,mBAAmB,GAAGF,UAAU,CAAC,CAC7BC,SAAS,CAAC;AACNoB,EAAAA,QAAQ,EAAE,iBADJ;AAENC,EAAAA,WAAW,EAAE,8BAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,6BAAD;AAHL,CAAD,CADoB,CAAD,EAM7BrB,mBAN6B,CAAhC;AAOA,SAASA,mBAAT","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet NewMomentsComponent = class NewMomentsComponent {\n    constructor(momentService, messageService, router) {\n        this.momentService = momentService;\n        this.messageService = messageService;\n        this.router = router;\n        this.btnText = 'Compartilhar';\n    }\n    ngOnInit() {\n    }\n    async createHandler(moment) {\n        const formData = new FormData();\n        formData.append('title', moment.title);\n        formData.append('description', moment.description);\n        if (moment.image) {\n            formData.append('image', moment.image);\n        }\n        // todo\n        await this.momentService.createMoment(formData).subscribe();\n        this.messageService.addMessage('Momento adicionado com sucesso!');\n        this.router.navigate(['/']);\n    }\n};\nNewMomentsComponent = __decorate([\n    Component({\n        selector: 'app-new-moments',\n        templateUrl: './new-moments.component.html',\n        styleUrls: ['./new-moments.component.css']\n    })\n], NewMomentsComponent);\nexport { NewMomentsComponent };\n"]},"metadata":{},"sourceType":"module"}